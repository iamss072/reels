{"version":3,"sources":["secret.js","logo.svg","firebase.js","context/AuthProvider.jsx","Assets/insta.png","Assets/img1.jpg","Assets/img2.jpg","Assets/img3.jpg","Assets/img4.jpg","Assets/img5.jpg","components/Login.jsx","components/Signup.jsx","components/useUserData.jsx","components/NavBar.jsx","components/Profile.jsx","components/CommentBox.jsx","components/FeedPosts.jsx","components/Feed.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","object","require","firebase","initializeApp","auth","firestore","database","users","collection","posts","comments","getUserTimeStamp","FieldValue","serverTimestamp","storage","AuthContext","React","createContext","AuthProvider","props","useState","currentUser","setCurrentUser","loading","setLoading","value","Signin","email","password","signInWithEmailAndPassword","Signup","createUserWithEmailAndPassword","Signout","signOut","useEffect","onAuthStateChanged","user","Provider","children","Login","setEmail","setPassword","loader","setLoader","useContext","e","a","preventDefault","res","console","log","id","history","push","className","src","Insta","alt","TextField","label","type","autoComplete","variant","onChange","target","Button","color","onClick","handleSignIn","disabled","href","setSignupEmail","setSignupPassword","username","setUsername","imageFile","setImageFile","f1","snapshot","progress","bytesTransferred","totalBytes","f2","error","f3","uid","uploadListner","ref","getDownloadURL","downloadUrl","doc","set","userId","createdAt","profileUrl","put","on","endIcon","component","hidden","accept","file","files","saveFile","handleSignUp","useUserData","setUser","get","docRef","data","NavBar","userData","Avatar","handleLogout","style","fontSize","Profile","allPosts","setAllPosts","postIds","allPostdObjs","i","length","display","undefined","map","post","postUrl","controls","CommentBox","videoObj","videoUrl","puid","postData","usercomments","setComments","currUsername","currUserProfileUrl","setValue","isLiked","add","comment","cid","update","onSnapshot","cids","allComments","autoPlay","obj","handleLike","name","placeholder","addNewComment","FeedPosts","setPosts","orderBy","videoObjs","docs","videoArr","auid","CircularProgress","position","left","top","postObj","Video","isCommentActive","setCommentActive","setPostData","setLiked","postRef","likes","newlikes","filter","lkuid","docRefSnap","callBack","enteries","forEach","entry","child","play","then","isIntersecting","pause","conditionObject","root","threshold","observer","IntersectionObserver","allVideos","document","querySelectorAll","video","observe","onEnded","next","ReactDOM","findDOMNode","parentNode","nextSibling","scrollIntoView","behavior","handleNextVideo","muted","handleMutted","event","videoElem","currentTarget","firstChild","body","onkeydown","key","handleCommentActive","Feed","setError","uploadedAt","pid","size","alert","uuidv4","handleNewVideo","PrivateRoute","Component","comp","render","to","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","getElementById"],"mappings":"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","file":"static/js/main.c70a0a70.chunk.js","sourcesContent":["module.exports ={\r\n    apiKey: \"AIzaSyC5eZmtGYjDrkZyzJ0WKWwkCNRGirqqUwc\",\r\n    authDomain: \"reels-f2590.firebaseapp.com\",\r\n    projectId: \"reels-f2590\",\r\n    storageBucket: \"reels-f2590.appspot.com\",\r\n    messagingSenderId: \"583404109332\",\r\n    appId: \"1:583404109332:web:9479dd9ec9b59a1ce0f101\"\r\n  };","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth';\r\nimport 'firebase/compat/firestore';\r\nimport \"firebase/compat/storage\";\r\nlet object=require(\"./secret\");\r\nfirebase.initializeApp(object);\r\nlet auth=firebase.auth();\r\nexport default auth;\r\nexport const firestore = firebase.firestore();\r\nexport const database = {\r\n    users: firestore.collection(\"users\"),\r\n    posts:firestore.collection(\"posts\"),\r\n    comments:firestore.collection(\"comments\"),\r\n    getUserTimeStamp: firebase.firestore.FieldValue.serverTimestamp\r\n}\r\nexport const storage = firebase.storage();\r\n","import React, { createContext, useEffect, useState } from 'react'\r\nimport auth from '../firebase';\r\n\r\n\r\nexport const AuthContext = React.createContext();\r\nfunction AuthProvider(props) {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    function Signin(email, password) {\r\n        return auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n    function Signup(email,password){\r\n        return auth.createUserWithEmailAndPassword(email,password);\r\n    }\r\n    function Signout(){\r\n        return auth.signOut();\r\n    }\r\n    let value = {\r\n        currentUser,\r\n        Signin,\r\n        Signup,\r\n        Signout,\r\n    }\r\n    \r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged((user) => {\r\n            setCurrentUser(user);\r\n            setLoading(false);\r\n        })\r\n        return unsubscribe;\r\n    },[])\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading&&props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthProvider\r\n","export default __webpack_public_path__ + \"static/media/insta.3686ea84.png\";","export default __webpack_public_path__ + \"static/media/img1.678f281f.jpg\";","export default __webpack_public_path__ + \"static/media/img2.25af168d.jpg\";","export default __webpack_public_path__ + \"static/media/img3.7c528407.jpg\";","export default __webpack_public_path__ + \"static/media/img4.cc488f03.jpg\";","export default __webpack_public_path__ + \"static/media/img5.21a5f717.jpg\";","import React, { useContext, useState } from 'react'\r\nimport \"./Login.css\"\r\nimport { TextField, Button, CardMedia } from \"@material-ui/core\"\r\n// import Carousel from 'react-material-ui-carousel'\r\nimport { AuthContext } from '../context/AuthProvider'\r\nimport { CarouselProvider, Slider, Slide, Image } from 'pure-react-carousel';\r\nimport Img1 from '../Assets/img1.jpg'\r\nimport Img2 from '../Assets/img2.jpg'\r\nimport Img3 from '../Assets/img3.jpg'\r\nimport Img4 from '../Assets/img4.jpg'\r\nimport Img5 from '../Assets/img5.jpg'\r\nimport Insta from '../Assets/insta.png'\r\nfunction Login(props) {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\")\r\n    const [loader, setLoader] = useState(false);\r\n    let { Signin } = useContext(AuthContext);\r\n    console.log(Signin);\r\n    async function handleSignIn(e) {\r\n        e.preventDefault();\r\n        try {\r\n            setLoader(true);\r\n            let res = await Signin(email, password);\r\n            console.log(res.id);\r\n            setLoader(false);\r\n            props.history.push(\"/\");\r\n        } catch (e) {\r\n            console.log(e);\r\n            setLoader(false);\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"login__page\">\r\n            <div className=\"cousel__container\" >\r\n                <img src={Insta} alt=\"\" />\r\n                <div className=\"caro\">\r\n                    <figure>\r\n                        <img className=\"image\" src=\"https://www.instagram.com/static/images/homepage/screenshot1.jpg/d6bf0c928b5a.jpg\" />\r\n                        <img className=\"image\" src=\"https://www.instagram.com/static/images/homepage/screenshot2.jpg/6f03eb85463c.jpg\" />\r\n                        <img className=\"image\" src=\"https://www.instagram.com/static/images/homepage/screenshot4.jpg/842fe5699220.jpg\" />\r\n                        <img className=\"image\" src=\"https://www.instagram.com/static/images/homepage/screenshot5.jpg/0a2d3016f375.jpg\" />\r\n                    </figure>\r\n                </div>\r\n\r\n                \r\n                {/* style={{ backgroundImage: `url(` + Insta + `)`, backgroundSize: 'cover' }} */}\r\n\r\n            </div>\r\n            <div className=\"loginform__container\">\r\n                <div className=\"instalogotext\">\r\n                    <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Instagram_logo.svg/1024px-Instagram_logo.svg.png\"></img>\r\n                </div>\r\n\r\n                <div className=\"loginform\">\r\n\r\n                    <TextField\r\n                        id=\"outlined-password-input\"\r\n                        label=\"Email\"\r\n                        type=\"Email\"\r\n                        autoComplete=\"current-password\"\r\n                        variant=\"outlined\"\r\n                        value={email}\r\n                        onChange={(e) => {\r\n                            setEmail(e.target.value);\r\n                        }}\r\n                    />\r\n                    <TextField\r\n                        id=\"outlined-password-input\"\r\n                        label=\"Password\"\r\n                        type=\"Password\"\r\n                        autoComplete=\"current-password\"\r\n                        variant=\"outlined\"\r\n                        value={password}\r\n                        onChange={(e) => {\r\n                            setPassword(e.target.value);\r\n                        }}\r\n                    />\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={(e) => { handleSignIn(e) }}\r\n                        disabled={loader}>Login</Button>\r\n                </div>\r\n                <div className=\"signup__option\">\r\n                    Don't have an Account <a href=\"/signup\">Sign Up</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n\r\n{/* */ }\r\n{/* <Carousel className=\"carousel\" animation=\"fade\" indicators={false} swipe={false} navButtonsAlwaysInvisible={true} autoPlay interval=\"3000\">\r\n<img className=\"image\" src=\"https://www.instagram.com/static/images/homepage/screenshot1.jpg/d6bf0c928b5a.jpg\" />\r\n<img className=\"image\" src=\"https://www.instagram.com/static/images/homepage/screenshot2.jpg/6f03eb85463c.jpg\" />\r\n<img className=\"image\" src=\"https://www.instagram.com/static/images/homepage/screenshot4.jpg/842fe5699220.jpg\" />\r\n<img className=\"image\" src=\"https://www.instagram.com/static/images/homepage/screenshot5.jpg/0a2d3016f375.jpg\" />\r\n</Carousel> */}\r\n{/* <img className=\"crousel__image\" src=\"https://www.instagram.com/static/images/homepage/home-phones.png/43cc71bb1b43.png\">\r\n\r\n</img> */}","import React,{useContext,useState} from 'react'\r\nimport { TextField, Button, CardMedia } from \"@material-ui/core\"\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport { database, firestore, storage } from '../firebase';\r\nimport \"./Signup.css\"\r\nimport { AuthContext } from '../context/AuthProvider';\r\nfunction Signup(props) {\r\n    const [email,setSignupEmail]=useState(\"\");\r\n    const [password,setSignupPassword]=useState(\"\");\r\n    const [username,setUsername]=useState(\"\");\r\n    const [imageFile,setImageFile]=useState(null);\r\n    const [loader,setLoader]=useState(false);\r\n    const {Signup}=useContext(AuthContext);\r\n    async function handleSignUp(e){\r\n       e.preventDefault();\r\n       console.log(email,password,username,imageFile);\r\n       try{\r\n           setLoader(true);\r\n          let res=await Signup(email,password);\r\n          let uid=res.user.uid;\r\n          let uploadListner=storage.ref(`user/${uid}/profileImage`).put(imageFile);\r\n          //f1=>progress\r\n          //f2=>error\r\n          //f3=>success\r\n          uploadListner.on(\"state_changed\",f1,f2,f3);\r\n          function f1(snapshot){\r\n              //track the progress of file uploading\r\n            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            console.log(progress);\r\n            console.log(\"fn1\");\r\n          }\r\n          function f2(error){\r\n              setLoader(false);\r\n            console.log(error);\r\n          }\r\n         async function f3(){\r\n            console.log(uid);\r\n             let downloadUrl=await uploadListner.snapshot.ref.getDownloadURL();\r\n             //create document in Users collection\r\n             database.users.doc(uid).set({\r\n                email: email,\r\n                userId: uid,\r\n                username,\r\n                createdAt: database.getUserTimeStamp(),\r\n                profileUrl: downloadUrl,\r\n                posts:[],\r\n             })\r\n             setLoader(false);\r\n             props.history.push(\"/\");\r\n          }\r\n       }catch(e){\r\n           console.log(e);\r\n           setLoader(false);\r\n       }\r\n    }\r\n    const saveFile = (e) => {\r\n        let file = e?.target?.files[0];\r\n        if (file != null) {\r\n            console.log(file);\r\n            setImageFile(e.target.files[0]);\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"signup__container\">\r\n            <div className=\"signup__form\">\r\n                <div className=\"image__container\">\r\n                    <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Instagram_logo.svg/1024px-Instagram_logo.svg.png\"></img>\r\n                </div>\r\n                <p>Sign up to see photos and videos from your friends</p>\r\n                <TextField\r\n                className=\"button\"\r\n                    id=\"outlined-password-input\"\r\n                    label=\"Username\"\r\n                    type=\"text\"\r\n                    autoComplete=\"current-password\"\r\n                    variant=\"outlined\"\r\n                    value={username}\r\n                    onChange={(e)=>{setUsername(e.target.value)}}\r\n                />\r\n                <TextField\r\n                className=\"button\"\r\n                    id=\"outlined-password-input\"\r\n                    label=\"Email\"\r\n                    type=\"email\"\r\n                    autoComplete=\"current-password\"\r\n                    variant=\"outlined\"\r\n                    value={email}\r\n                    onChange={(e)=>{setSignupEmail(e.target.value)}}\r\n                />\r\n                <TextField\r\n                className=\"button\"\r\n                    id=\"outlined-password-input\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    variant=\"outlined\"\r\n                    value={password}\r\n                    onChange={(e)=>{setSignupPassword(e.target.value)}}\r\n                />\r\n                <Button endIcon={<BackupIcon></BackupIcon>}\r\n                    variant=\"outlined\"\r\n                    component=\"label\"\r\n                    \r\n                    color=\"secondary\"\r\n                   \r\n                >\r\n                    Upload Profile Picture\r\n                    <input\r\n                        type=\"file\"\r\n                        hidden\r\n                       \r\n                       accept=\"image\"\r\n                       onChange={(e)=>{saveFile(e)}}\r\n                    />\r\n                </Button>\r\n                <Button variant=\"contained\" color=\"primary\" onClick={(e)=>{handleSignUp(e)}} disabled={loader}>\r\n                    Sign up\r\n                </Button>\r\n                <p>By Signing up you agree to our terms Data Policy and Cookies policy </p>\r\n            </div>\r\n            <div className=\"login__option\">\r\n                <p>Already have a account ? <a href=\"/login\">Log in</a></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","//it is an custom hook to get data of currentUser \r\nimport React,{useState,useEffect} from 'react';\r\n\r\nimport { database } from '../firebase';\r\nfunction useUserData(uid) {\r\n    \r\n    const [user,setUser]=useState({});\r\n   \r\n    useEffect(async () => {\r\n        let docRef = await database.users.doc(uid).get();\r\n        let data = docRef.data();\r\n        console.log(data);\r\n        setUser(data);\r\n     \r\n    }, [])\r\n    return user;\r\n}\r\n\r\nexport default useUserData","import React,{useContext, useEffect,useState} from 'react'\r\nimport {Button,Avatar} from \"@material-ui/core\"\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport ExploreIcon from '@material-ui/icons/Explore';\r\nimport \"./NavBar.css\"\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport { database } from '../firebase';\r\nimport useUserData from './useUserData';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nfunction NavBar(props) {\r\n    //  const [profileImage,setProfileImage]=useState();\r\n    const {currentUser,Signout}=useContext(AuthContext);\r\n    const userData=useUserData(currentUser.uid);\r\n       \r\n   async function handleLogout(){\r\n       let res=await Signout();\r\n    }     \r\n   \r\n    return (\r\n        <div className=\"app__bar\">\r\n            <div className=\"insta__logoImage\">\r\n              <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Instagram_logo.svg/1024px-Instagram_logo.svg.png\"></img>\r\n            </div>\r\n            <div className=\"header__options\">\r\n             <Button href=\"/\">\r\n              <HomeIcon></HomeIcon>\r\n             </Button>\r\n             <Button href=\"/\">\r\n              <ExploreIcon></ExploreIcon>\r\n             </Button>\r\n             <Button href=\"/profile\">\r\n                 <Avatar className=\"header__profileimage\"\r\n                 src={userData.profileUrl}></Avatar>\r\n             </Button>\r\n             <Button variant=\"outlined\" color=\"secondary\" onClick={()=>{handleLogout()}} style={{fontSize:\"x-small\"}}>\r\n                 Logout\r\n             </Button>\r\n            </div>\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { AuthContext } from '../context/AuthProvider'\r\nimport { database } from '../firebase';\r\nimport NavBar from './NavBar'\r\nimport useUserData from './useUserData'\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport \"./Profile.css\"\r\nfunction Profile() {\r\n    let {currentUser}=useContext(AuthContext);\r\n    let userData=useUserData(currentUser.uid);\r\n    let [allPosts,setAllPosts]=useState([]);\r\n    let postIds=userData.posts;\r\n    console.log(userData);\r\n    useEffect( async ()=>{\r\n        if(postIds){\r\n            let allPostdObjs=[];\r\n            for(let i=0;i<postIds.length;i++){\r\n              let docRef=await database.posts.doc(postIds[i]).get();\r\n              allPostdObjs.push(docRef.data());\r\n            }\r\n            setAllPosts(allPostdObjs);\r\n        }\r\n    \r\n    },[postIds])\r\n    console.log(allPosts);\r\n    return (\r\n        <>\r\n          <NavBar></NavBar>\r\n            <div>\r\n             <div className=\"currentuser__info\">\r\n                <div className=\"profileImage__currentuser\">\r\n                  <Avatar src={userData=={}?\"\":userData.profileUrl}></Avatar>\r\n                </div>\r\n                <div className=\"currentuser__detao\">\r\n                <h3>{userData.username}</h3>\r\n                <p>Number of Posts :<h4 style={{display:\"inline\"}}>{postIds==undefined?0:postIds.length}</h4> </p>\r\n                <p>Email : <h4 style={{display:\"inline\"}}>{userData=={}?\"\":userData.email}</h4></p>\r\n                </div>\r\n             </div>\r\n             <div className=\"currentuser__posts\">\r\n                  {allPosts.map((post)=>{\r\n                      return (\r\n                          <div className=\"currentUserpost\">\r\n                              <video src={post.postUrl} controls></video>\r\n                          </div>\r\n                      )\r\n                  })\r\n\r\n                  }\r\n             </div>\r\n            </div>\r\n            </>\r\n           \r\n       \r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport \"./CommentBox.css\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport { database, firestore } from '../firebase';\r\nimport useUserData from './useUserData';\r\nimport { AuthContext } from '../context/AuthProvider';\r\nfunction CommentBox(props) {\r\n    let {videoUrl,profileUrl,username,puid}=props.videoObj;\r\n    let postData=props.postData;\r\n    let {currentUser}=useContext(AuthContext);\r\n    const [usercomments,setComments]=useState([]);\r\n    // const [commentObjs,setUserComments]=useState([]);\r\n    let userData=useUserData(currentUser.uid);\r\n    let currUsername=userData.username;\r\n    let currUserProfileUrl=userData.profileUrl;\r\n    // console.log(currUsername,currUserProfileUrl);\r\n    const[value,setValue]=useState(\"\");\r\n    let color=props.isLiked?\"red\":\"white\";\r\n   async function addNewComment(e){\r\n       e.preventDefault();\r\n       setValue(\"\");\r\n    //    alert(\"comment\");\r\n       try{\r\n        let res=await firestore.collection('comments').add({\r\n            comment:value,\r\n            username:currUsername,\r\n            profileUrl:currUserProfileUrl,\r\n            createdAt:database.getUserTimeStamp(),\r\n        })\r\n        let cid=res.id;\r\n        await database.posts.doc(puid).update({\r\n            comments:[...postData.comments,cid],\r\n        })\r\n       \r\n       }catch(e){\r\n\r\n       }\r\n     \r\n    }\r\n    useEffect(async ()=>{\r\n        console.log(postData);\r\n        let docRefSnap=await database.posts.doc(puid).onSnapshot(async (snapshot)=>{\r\n            let data=snapshot.data();\r\n            let cids=data.comments;\r\n            let allComments=[];\r\n            for(let i=0;i<cids.length;i++){\r\n                console.log(cids[i]);\r\n                let docRef=await database.comments.doc(cids[i]).get();\r\n                 allComments.push(docRef.data());\r\n               }\r\n    setComments(allComments);\r\n      console.log(allComments)\r\n       })  \r\n      },[postData])\r\n    console.log(usercomments)\r\n    return (\r\n        <div className=\"comment__box\">\r\n           <div className=\"comment__leftcontainer\">\r\n           <video src={videoUrl} controls autoPlay>\r\n            </video>\r\n           </div>\r\n           <div className=\"comment__rightcontainer\">\r\n            <div className=\"post__userInfo\">\r\n                <Avatar src={profileUrl}></Avatar>\r\n                <h4>{username}</h4>\r\n            </div> \r\n            <div className=\"comments\">\r\n                {usercomments.map((obj)=>{\r\n                    return(\r\n                <div className=\"comment__userInfo\">\r\n                <Avatar src={obj.profileUrl}></Avatar>\r\n                <h4>{obj.username}</h4>\r\n                <p>{obj.comment}</p>\r\n            </div>  \r\n                    )\r\n                })}\r\n            </div>\r\n            <div className=\"add_newComment\">\r\n              <div className=\"like__option\">\r\n                  <FavoriteIcon onClick={()=>{props.handleLike(puid)}} style={{color:`${color}`}}></FavoriteIcon>\r\n                  <p>Liked by nobody</p>\r\n              </div>\r\n              <div className=\"new__commentcontainer\">\r\n                  <input type=\"text\" name=\"\" id=\"\" placeholder=\"Add Comment\" value={value} onChange={(e)=>{setValue(e.target.value)}}/>\r\n                  <button onClick={(e)=>{addNewComment(e)}}>Post</button>\r\n              </div>\r\n            </div>   \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentBox\r\n","import React, {useState, useEffect, useContext } from 'react'\r\nimport \"./FeedPosts.css\"\r\nimport ReactDOM from 'react-dom';\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\r\nimport { database } from '../firebase'\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport CommentBox from './CommentBox';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nfunction FeedPosts() {\r\n    const[posts,setPosts]=useState(null);\r\n    useEffect( async ()=>{\r\n        let unsub=await database.posts.orderBy(\"uploadedAt\",\"desc\").onSnapshot(async (snapshot)=>{\r\n            let videoObjs=snapshot.docs.map((doc)=>{return doc.data()});\r\n            let videoArr=[];\r\n            for(let i=0;i<videoObjs.length;i++){\r\n                let videoUrl = videoObjs[i].postUrl;\r\n                let auid = videoObjs[i].username;\r\n                let id = snapshot.docs[i].id;\r\n\r\n                //  console.log(videoUrl,auid);\r\n                let docRef = await database.users.doc(auid).get();\r\n                let data = docRef.data();\r\n                let username = data.username;\r\n                let profileUrl = data.profileUrl;\r\n                videoArr.push({ videoUrl, username, profileUrl, puid: id });\r\n            }\r\n            setPosts(videoArr);\r\n            console.log(videoArr);\r\n        })\r\n    },[]);\r\n\r\n    console.log(posts);\r\n    return (\r\n        <>\r\n            {posts==null?<CircularProgress style={{ position: 'absolute',left: '50%',top: '50%'}}></CircularProgress>:posts.map((postObj)=>{\r\n                return <Video postObj={postObj} ></Video>\r\n            })}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FeedPosts\r\nfunction Video(props){\r\n     let {videoUrl,profileUrl,username,puid}=props.postObj;\r\n     let {currentUser}=useContext(AuthContext);\r\n     let [isCommentActive,setCommentActive]=useState(false);\r\n     let [postData,setPostData]=useState(null);\r\n     let [isLiked,setLiked]=useState(false);\r\n    async function handleLike(puid){\r\n       let postRef=await database.posts.doc(puid).get();\r\n       let post = postRef.data();\r\n       let likes = post.likes;\r\n       console.log(isLiked);\r\n       if (isLiked == false) {\r\n           database.posts.doc(puid).update({\r\n               \"likes\": [...likes, currentUser.uid]\r\n           })\r\n           setLiked(true);\r\n       } else {\r\n           console.log(post);\r\n        //    console.log(currentUser.uid);\r\n        \r\n           let newlikes = post.likes.filter(lkuid => {\r\n               console.log(lkuid,currentUser.uid);\r\n               return lkuid != currentUser.uid;\r\n           })\r\n           database.posts.doc(puid).update({\r\n               likes: newlikes\r\n           });\r\n           setLiked(false);\r\n     }\r\n    }\r\n    function handleCommentActive(event){\r\n        setCommentActive(true);\r\n        let videoElem= event.currentTarget.parentNode.parentNode.firstChild;\r\n        videoElem.pause()\r\n         console.log(event.target.parentNode);\r\n        document.body.onkeydown = (e) => {\r\n            console.log(e.key);\r\n            if (e.key === \"Escape\") {\r\n                setCommentActive(false);\r\n                videoElem.play();\r\n            }\r\n        }\r\n        \r\n    }\r\n    useEffect(async ()=>{\r\n        \r\n        // let postRef=await database.posts.doc(puid).get();\r\n        // let post = postRef.data();\r\n        if(postData!==null){\r\n            console.log(postData);\r\n            let likes = postData.likes;\r\n            console.log(likes);\r\n\r\n            for(let i=0;i<likes.length;i++){\r\n                if(likes[i]===currentUser.uid){\r\n                    console.log(1);\r\n                    setLiked(true);\r\n                }\r\n            }\r\n        }\r\n     },[postData])\r\n    console.log(isLiked);\r\n    useEffect( async ()=>{\r\n        let docRefSnap=await database.posts.doc(puid).onSnapshot((snapshot)=>{\r\n             let data=snapshot.data();\r\n             setPostData(data);\r\n        })\r\n        return docRefSnap;\r\n    },[])\r\n    let color=isLiked?\"red\":\"White\";\r\n    function callBack(enteries) {\r\n        enteries.forEach((entry) => {\r\n            let child = entry.target.children[0];\r\n            child.play().then(() => {\r\n                if (entry.isIntersecting == false) {\r\n                    child.pause();\r\n                }\r\n            })\r\n        })\r\n    }\r\n    let conditionObject = {\r\n        root: null,\r\n        threshold: \"0.9\",\r\n    }\r\n    const handleMutted=(e)=>{\r\n        e.preventDefault();\r\n        e.target.muted=!e.target.muted;\r\n      }\r\n    useEffect(() => {\r\n\r\n        let observer = new IntersectionObserver(callBack, conditionObject);\r\n        let allVideos = document.querySelectorAll(\".videoContainer\");\r\n        console.log(allVideos);\r\n        allVideos.forEach((video) => {\r\n            observer.observe(video);\r\n        })\r\n    },[])\r\n    const handleNextVideo=(e)=>{\r\n        let next=ReactDOM.findDOMNode(e.target).parentNode.nextSibling;\r\n        if(next){\r\n            next.scrollIntoView({behavior:\"smooth\"});\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"videoContainer\">\r\n            <video onEnded={(e)=>{handleNextVideo(e)}} src={videoUrl} autoPlay onClick={(e)=>{handleMutted(e)}}></video>\r\n            <div className=\"user__info featuresame\">\r\n                <Avatar src={profileUrl}></Avatar>\r\n                 <h4>{username} </h4>\r\n            </div>\r\n            <div className=\"video__features featuresame\">\r\n               <FavoriteIcon onClick={()=>{handleLike(puid)}} style={{color:`${color}`}}></FavoriteIcon>\r\n               <ChatBubbleIcon onClick={(e)=>{handleCommentActive(e)}}></ChatBubbleIcon>\r\n            </div>\r\n            {isCommentActive?<CommentBox videoObj={props.postObj} isLiked={isLiked} \r\n            handleLike={handleLike} postData={postData}></CommentBox>:null}\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport NavBar from './NavBar'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { Button, makeStyles } from \"@material-ui/core\"\r\nimport FeedPosts from './FeedPosts'\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport \"./Feed.css\"\r\nimport { database, firestore, storage } from '../firebase';\r\nimport { AuthContext } from '../context/AuthProvider';\r\nimport useUserData from './useUserData';\r\nfunction Feed(props) {\r\n  const[loading,setLoading]=useState(false);\r\n  const [error,setError]=useState();\r\n  let {currentUser} =useContext(AuthContext);\r\n  let userData=useUserData(currentUser.uid);\r\n//   console.log(userData);\r\n   useEffect(()=>{\r\n       \r\n   },[])\r\n  async function handleNewVideo(e){\r\n      e.preventDefault();\r\n      try{\r\n        setLoading(true);\r\n        let file=e?.target?.files[0];\r\n        let video;\r\n        if(file!=null){\r\n          video=e.target.files[0];\r\n        }\r\n        if (video.size / (1024 * 1024) > 40) {\r\n          alert(\"The selected file is very big\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        let puid=uuidv4();//this will give us unique id \r\n      //   console.log(puid);\r\n      //   console.log(video);\r\n        let uploadListner=storage.ref(`/posts/${puid}/`).put(video);\r\n        uploadListner.on(\"state_changed\",f1,f2,f3);\r\n        function f1(snapshot){\r\n          var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          console.log(progress);\r\n        }\r\n        function f2(e){\r\n         setError(e);\r\n         setLoading(false);\r\n        }\r\n        async function f3(){\r\n            let downloadUrl=await uploadListner.snapshot.ref.getDownloadURL();\r\n            let res=await firestore.collection('posts').add({\r\n                username: currentUser.uid,\r\n                uploadedAt: database.getUserTimeStamp(),\r\n                postUrl: downloadUrl,\r\n                likes: [],\r\n                comments: [],\r\n            })\r\n            let pid=res.id;\r\n            await database.users.doc(currentUser.uid).update({\r\n                posts:[...userData.posts,pid]\r\n            })\r\n            props.history.push(\"/\");\r\n            setLoading(false);\r\n        }\r\n        \r\n       \r\n      }catch(err){\r\n          \r\n      }\r\n\r\n  }\r\n    return (\r\n\r\n        <>\r\n            <NavBar></NavBar>\r\n            <div className=\"feed__container\">\r\n                <div className=\"upload__button\">\r\n                    <Button endIcon={<BackupIcon></BackupIcon>}\r\n                        variant=\"outlined\"\r\n                        component=\"label\"\r\n                        disabled={loading}\r\n                        color=\"secondary\"\r\n\r\n                    >\r\n                        Upload Video\r\n                        <input\r\n                            type=\"file\"\r\n                            hidden\r\n                            onChange={(e)=>{\r\n                                handleNewVideo(e)\r\n                            }}\r\n                        />\r\n                    </Button>\r\n                </div>\r\n\r\n                <div className=\"posts__container\">\r\n                    <FeedPosts></FeedPosts>\r\n                 </div>\r\n           </div>\r\n          </>\r\n    )\r\n}\r\n\r\nexport default Feed\r\n","import logo from './logo.svg';\r\nimport './App.css';\r\nimport {Route, Switch,Redirect} from \"react-router-dom\";\r\nimport Login from './components/Login';\r\nimport Signup from './components/Signup';\r\nimport Profile from './components/Profile';\r\nimport Feed from './components/Feed';\r\nimport AuthProvider, { AuthContext } from './context/AuthProvider';\r\nimport { useContext } from 'react';\r\nimport NavBar from './components/NavBar';\r\n//PrivateRoutes for pages where a user can only access if he/she is logged in \r\n//authentication is provided from context (AuthProvider)\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      \r\n      <AuthProvider>\r\n      <Switch>\r\n        \r\n       <Route path=\"/signup\" component={Signup}></Route>\r\n       <Route path=\"/login\" component={Login}></Route>\r\n       <PrivateRoute path=\"/profile\" comp={Profile}></PrivateRoute>\r\n       <PrivateRoute path=\"/\" comp={Feed}></PrivateRoute>\r\n      </Switch>\r\n      </AuthProvider>\r\n     </div>\r\n  );\r\n}\r\nfunction PrivateRoute(props){\r\n  let Component=props.comp;\r\n let {currentUser}=useContext(AuthContext);\r\n console.log(currentUser);\r\n //if currUser is not null or user he logged in he can access to private Routes(profile,feed) else redirect\r\n //to login Page\r\n return(\r\n   <Route {...props} render={(props)=>{return currentUser!==null?<Component {...props}></Component>:\r\n  <Redirect to=\"/login\"></Redirect>  }}></Route>\r\n )\r\n  \r\n}\r\nexport default App;\r\n{/* <Route path=\"/profile\" component={Profile}></Route>\r\n<Route path=\"/\" component={Feed}></Route> */}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter} from \"react-router-dom\"\r\n\r\n\r\nReactDOM.render(\r\n\r\n  <BrowserRouter>  <App /></BrowserRouter> ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}